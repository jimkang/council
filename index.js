!function t(e,n,r){function i(s,c){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return i(n?n:t)},h,h.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(){var t=s();t||l({problem:c(),commitChanges:u})}function i(t){}function o(t){}function s(){}function c(){return{problemId:"problem-"+h(4),problemText:"<Your problem goes here.>",presenterImageURL:"",choices:[]}}function u(t){if(!t||!t.problemId)return void console.log("Could not commit malformed problem.");var e=[],n=window.localStorage.getItem("index-problems");n&&(e=JSON.parse(n)),e.indexOf(t.problemId)===-1&&(e.push(t.problemId),window.localStorage.setItem("index-problems",JSON.stringify(e))),window.localStorage.setItem(t.problemId,JSON.stringify(t))}var a=t("director"),h=t("idmaker").randomId,l=t("./render-edit-problem");!function(){var t=a.Router({"/problem/:problemId":i,"/problem/:problemId/edit":o,"/":r});t.notfound=r,t.init("/")}()},{"./render-edit-problem":9,director:6,idmaker:7}],2:[function(t,e,n){"use strict";function r(){return{id:"choice-"+i(4),text:"<Click here to edit this choice>",presenterImageURL:"http://smidgeo.com/images/smidgeo_on_the_move.png"}}var i=t("idmaker").randomId;e.exports=r},{idmaker:7}],3:[function(t,e,n){function r(t){var e="id";return t&&"string"==typeof t&&(e=t),function(t){return t[e]}}"object"==typeof e&&"object"==typeof e.exports&&(e.exports=r)},{}],4:[function(t,e,n){(function(t){function n(t){var e=Array.prototype.slice.call(arguments,1);return function(){t.apply(t,e)}}function r(){var e=n.apply(null,Array.prototype.slice.call(arguments,0));t.nextTick(e)}Array.prototype.slice.call;e.exports=r}).call(this,t("_process"))},{_process:8}],5:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),zt.hasOwnProperty(e)?{space:zt[e],local:t}:t}function n(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ut&&e.documentElement.namespaceURI===Ut?e.createElement(t):e.createElementNS(n,t)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(t){var i=e(t);return(i.local?r:n)(i)}function o(){return new s}function s(){this._="@"+(++Vt).toString(36)}function c(t,e,n){return t=u(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function u(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function a(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function h(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function l(t,e,n){var r=Yt.hasOwnProperty(t.type)?c:u;return function(i,o,s){var c,u=this.__on,a=r(e,o,s);if(u)for(var h=0,l=u.length;h<l;++h)if((c=u[h]).type===t.type&&c.name===t.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=a,c.capture=n),void(c.value=e);this.addEventListener(t.type,a,n),c={type:t.type,name:t.name,value:e,listener:a,capture:n},u?u.push(c):this.__on=[c]}}function f(t,e,n){var r,i,o=a(t+""),s=o.length;{if(!(arguments.length<2)){for(c=e?l:h,null==n&&(n=!1),r=0;r<s;++r)this.each(c(o[r],e,n));return this}var c=this.node().__on;if(c)for(var u,f=0,p=c.length;f<p;++f)for(r=0,u=c[f];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}}function p(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function d(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function m(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function v(t){var e=d();return e.changedTouches&&(e=e.changedTouches[0]),m(t,e)}function y(){}function g(t){return null==t?y:function(){return this.querySelector(t)}}function _(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,c=e[i],u=c.length,a=r[i]=new Array(u),h=0;h<u;++h)(o=c[h])&&(s=t.call(o,o.__data__,h,c))&&("__data__"in o&&(s.__data__=o.__data__),a[h]=s);return new Rt(r,this._parents)}function w(){return[]}function x(t){return null==t?w:function(){return this.querySelectorAll(t)}}function b(t){"function"!=typeof t&&(t=x(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,c=e[o],u=c.length,a=0;a<u;++a)(s=c[a])&&(r.push(t.call(s,s.__data__,a,c)),i.push(s));return new Rt(r,i)}function A(t){"function"!=typeof t&&(t=Xt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],c=s.length,u=r[i]=[],a=0;a<c;++a)(o=s[a])&&t.call(o,o.__data__,a,s)&&u.push(o);return new Rt(r,this._parents)}function S(t){return new Array(t.length)}function E(){return new Rt(this._enter||this._groups.map(S),this._parents)}function C(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function O(t){return function(){return t}}function k(t,e,n,r,i,o){for(var s,c=0,u=e.length,a=o.length;c<a;++c)(s=e[c])?(s.__data__=o[c],r[c]=s):n[c]=new C(t,o[c]);for(;c<u;++c)(s=e[c])&&(i[c]=s)}function I(t,e,n,r,i,o,s){var c,u,a,h={},l=e.length,f=o.length,p=new Array(l);for(c=0;c<l;++c)(u=e[c])&&(p[c]=a=Wt+s.call(u,u.__data__,c,e),a in h?i[c]=u:h[a]=u);for(c=0;c<f;++c)a=Wt+s.call(t,o[c],c,o),(u=h[a])?(r[c]=u,u.__data__=o[c],h[a]=null):n[c]=new C(t,o[c]);for(c=0;c<l;++c)(u=e[c])&&h[p[c]]===u&&(i[c]=u)}function N(t,e){if(!t)return p=new Array(this.size()),a=-1,this.each(function(t){p[++a]=t}),p;var n=e?I:k,r=this._parents,i=this._groups;"function"!=typeof t&&(t=O(t));for(var o=i.length,s=new Array(o),c=new Array(o),u=new Array(o),a=0;a<o;++a){var h=r[a],l=i[a],f=l.length,p=t.call(h,h&&h.__data__,a,r),d=p.length,m=c[a]=new Array(d),v=s[a]=new Array(d),y=u[a]=new Array(f);n(h,l,m,v,y,p,e);for(var g,_,w=0,x=0;w<d;++w)if(g=m[w]){for(w>=x&&(x=w+1);!(_=v[x])&&++x<d;);g._next=_||null}}return s=new Rt(s,r),s._enter=c,s._exit=u,s}function L(){return new Rt(this._exit||this._groups.map(S),this._parents)}function T(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),c=0;c<o;++c)for(var u,a=e[c],h=n[c],l=a.length,f=s[c]=new Array(l),p=0;p<l;++p)(u=a[p]||h[p])&&(f[p]=u);for(;c<r;++c)s[c]=e[c];return new Rt(s,this._parents)}function B(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&s!==r.nextSibling&&s.parentNode.insertBefore(r,s),s=r);return this}function P(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=R);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,c=n[o],u=c.length,a=i[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(a[h]=s);a.sort(e)}return new Rt(i,this._parents).order()}function R(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function j(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function M(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function q(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function H(){var t=0;return this.each(function(){++t}),t}function D(){return!this.node()}function U(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,c=o.length;s<c;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this}function z(t){return function(){this.removeAttribute(t)}}function V(t){return function(){this.removeAttributeNS(t.space,t.local)}}function F(t,e){return function(){this.setAttribute(t,e)}}function G(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function J(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function X(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Y(t,n){var r=e(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?V:z:"function"==typeof n?r.local?X:J:r.local?G:F)(r,n))}function Z(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function W(t){return function(){this.style.removeProperty(t)}}function K(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Q(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function $(t,e,n){var r;return arguments.length>1?this.each((null==e?W:"function"==typeof e?Q:K)(t,e,null==n?"":n)):Z(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)}function tt(t){return function(){delete this[t]}}function et(t,e){return function(){this[t]=e}}function nt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function rt(t,e){return arguments.length>1?this.each((null==e?tt:"function"==typeof e?nt:et)(t,e)):this.node()[t]}function it(t){return t.trim().split(/^|\s+/)}function ot(t){return t.classList||new st(t)}function st(t){this._node=t,this._names=it(t.getAttribute("class")||"")}function ct(t,e){for(var n=ot(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ut(t,e){for(var n=ot(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function at(t){return function(){ct(this,t)}}function ht(t){return function(){ut(this,t)}}function lt(t,e){return function(){(e.apply(this,arguments)?ct:ut)(this,t)}}function ft(t,e){var n=it(t+"");if(arguments.length<2){for(var r=ot(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?lt:e?at:ht)(n,e))}function pt(){this.textContent=""}function dt(t){return function(){this.textContent=t}}function mt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function vt(t){return arguments.length?this.each(null==t?pt:("function"==typeof t?mt:dt)(t)):this.node().textContent}function yt(){this.innerHTML=""}function gt(t){return function(){this.innerHTML=t}}function _t(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function wt(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?_t:gt)(t)):this.node().innerHTML}function xt(){this.nextSibling&&this.parentNode.appendChild(this)}function bt(){return this.each(xt)}function At(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function St(){return this.each(At)}function Et(t){var e="function"==typeof t?t:i(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ct(){return null}function Ot(t,e){var n="function"==typeof t?t:i(t),r=null==e?Ct:"function"==typeof e?e:g(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function kt(){var t=this.parentNode;t&&t.removeChild(this)}function It(){return this.each(kt)}function Nt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Lt(t,e,n){var r=Z(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Tt(t,e){return function(){return Lt(this,t,e)}}function Bt(t,e){return function(){return Lt(this,t,e.apply(this,arguments))}}function Pt(t,e){return this.each(("function"==typeof e?Bt:Tt)(t,e))}function Rt(t,e){this._groups=t,this._parents=e}function jt(){return new Rt([[document.documentElement]],Kt)}function Mt(t){return"string"==typeof t?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],Kt)}function qt(t){return"string"==typeof t?new Rt([document.querySelectorAll(t)],[document.documentElement]):new Rt([null==t?[]:t],Kt)}function Ht(t,e,n){arguments.length<3&&(n=e,e=d().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return m(t,r);return null}function Dt(t,e){null==e&&(e=d().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=m(t,e[n]);return i}var Ut="http://www.w3.org/1999/xhtml",zt={svg:"http://www.w3.org/2000/svg",xhtml:Ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vt=0;s.prototype=o.prototype={constructor:s,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ft=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Gt=document.documentElement;if(!Gt.matches){var Jt=Gt.webkitMatchesSelector||Gt.msMatchesSelector||Gt.mozMatchesSelector||Gt.oMatchesSelector;Ft=function(t){return function(){return Jt.call(this,t)}}}}var Xt=Ft,Yt={};if(t.event=null,"undefined"!=typeof document){var Zt=document.documentElement;"onmouseenter"in Zt||(Yt={mouseenter:"mouseover",mouseleave:"mouseout"})}C.prototype={constructor:C,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Wt="$";st.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Kt=[null];Rt.prototype=jt.prototype={constructor:Rt,select:_,selectAll:b,filter:A,data:N,enter:E,exit:L,merge:T,order:B,sort:P,call:j,nodes:M,node:q,size:H,empty:D,each:U,attr:Y,style:$,property:rt,classed:ft,text:vt,html:wt,raise:bt,lower:St,append:Et,insert:Ot,remove:It,datum:Nt,on:f,dispatch:Pt},t.creator=i,t.local=o,t.matcher=Xt,t.mouse=v,t.namespace=e,t.namespaces=zt,t.select=Mt,t.selectAll=qt,t.selection=jt,t.selector=g,t.selectorAll=x,t.touch=Ht,t.touches=Dt,t.window=Z,t.customEvent=p,Object.defineProperty(t,"__esModule",{value:!0})})},{}],6:[function(t,e,n){!function(t){function e(){return""===a.hash||"#"===a.hash}function n(t,e){for(var n=0;n<t.length;n+=1)if(e(t[n],n,t)===!1)return}function r(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function i(t,e,n){if(!t.length)return n();var r=0;!function i(){e(t[r],function(e){e||e===!1?(n(e),n=function(){}):(r+=1,r===t.length?n():i())})}()}function o(t,e,n){n=t;for(var r in e)if(e.hasOwnProperty(r)&&(n=e[r](t),n!==t))break;return n===t?"([._a-zA-Z0-9-%()]+)":n}function c(t,e){for(var n,r=0,i="";n=t.substr(r).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)r=n.index+n[0].length,n[0]=n[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),i+=t.substr(0,n.index)+n[0];t=i+=t.substr(r);var s,c,u=t.match(/:([^\/]+)/gi);if(u){c=u.length;for(var a=0;a<c;a++)s=u[a],t="::"===s.slice(0,2)?s.slice(1):t.replace(s,o(s,e))}return t}function u(t,e,n,r){var i,o=0,s=0,c=0,n=(n||"(").toString(),r=(r||")").toString();for(i=0;i<t.length;i++){var u=t[i];if(u.indexOf(n,o)>u.indexOf(r,o)||~u.indexOf(n,o)&&!~u.indexOf(r,o)||!~u.indexOf(n,o)&&~u.indexOf(r,o)){if(s=u.indexOf(n,o),c=u.indexOf(r,o),~s&&!~c||!~s&&~c){var a=t.slice(0,(i||1)+1).join(e);t=[a].concat(t.slice((i||1)+1))}o=(c>s?c:s)+1,i=0}else o=0}return t}var a=document.location,h={mode:"modern",hash:a.hash,history:!1,check:function(){var t=a.hash;t!=this.hash&&(this.hash=t,this.onHashChanged())},fire:function(){"modern"===this.mode?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(t,e){function n(t){for(var e=0,n=l.listeners.length;e<n;e++)l.listeners[e](t)}var r=this;if(this.history=e,l.listeners||(l.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))this.history===!0?setTimeout(function(){window.onpopstate=n},500):window.onhashchange=n,this.mode="modern";else{var i=document.createElement("iframe");i.id="state-frame",i.style.display="none",document.body.appendChild(i),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&r.check()}),window.setInterval(function(){r.check()},50),this.onHashChanged=n,this.mode="legacy"}return l.listeners.push(t),this.mode},destroy:function(t){if(l&&l.listeners)for(var e=l.listeners,n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},setHash:function(t){return"legacy"===this.mode&&this.writeFrame(t),this.history===!0?(window.history.pushState({},document.title,t),this.fire()):a.hash="/"===t[0]?t:"/"+t,this},writeFrame:function(t){var e=document.getElementById("state-frame"),n=e.contentDocument||e.contentWindow.document;n.open(),n.write("<script>_hash = '"+t+"'; onload = parent.listener.syncHash;<script>"),n.close()},syncHash:function(){var t=this._hash;return t!=a.hash&&(a.hash=t),this},onHashChanged:function(){}},l=t.Router=function(t){return this instanceof l?(this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),void this.mount(t||{})):new l(t)};l.prototype.init=function(t){var n,r=this;return this.handler=function(t){var e=t&&t.newURL||window.location.hash,n=r.history===!0?r.getPath():e.replace(/.*#/,"");r.dispatch("on","/"===n.charAt(0)?n:"/"+n)},h.init(this.handler,this.history),this.history===!1?e()&&t?a.hash=t:e()||r.dispatch("on","/"+a.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(n=e()&&t?t:e()?null:a.hash.replace(/^#/,""),n&&window.history.replaceState({},document.title,n)):n=this.getPath(),(n||this.run_in_init===!0)&&this.handler()),this},l.prototype.explode=function(){var t=this.history===!0?this.getPath():a.hash;return"/"===t.charAt(1)&&(t=t.slice(1)),t.slice(1,t.length).split("/")},l.prototype.setRoute=function(t,e,n){var r=this.explode();return"number"==typeof t&&"string"==typeof e?r[t]=e:"string"==typeof n?r.splice(t,e,s):r=[t],h.setHash(r.join("/")),r},l.prototype.insertEx=function(t,e,n,r){return"once"===t&&(t="on",n=function(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}(n)),this._insert(t,e,n,r)},l.prototype.getRoute=function(t){var e=t;if("number"==typeof t)e=this.explode()[t];else if("string"==typeof t){var n=this.explode();e=n.indexOf(t)}else e=this.explode();return e},l.prototype.destroy=function(){return h.destroy(this.handler),this},l.prototype.getPath=function(){var t=window.location.pathname;return"/"!==t.substr(0,1)&&(t="/"+t),t};var f=/\?.*/;l.prototype.configure=function(t){t=t||{};for(var e=0;e<this.methods.length;e++)this._methods[this.methods[e]]=!0;return this.recurse=t.recurse||this.recurse||!1,this.async=t.async||!1,this.delimiter=t.delimiter||"/",this.strict="undefined"==typeof t.strict||t.strict,this.notfound=t.notfound,this.resource=t.resource,this.history=t.html5history&&this.historySupport||!1,this.run_in_init=this.history===!0&&t.run_handler_in_init!==!1,this.convert_hash_in_init=this.history===!0&&t.convert_hash_in_init!==!1,this.every={after:t.after||null,before:t.before||null,on:t.on||null},this},l.prototype.param=function(t,e){":"!==t[0]&&(t=":"+t);var n=new RegExp(t,"g");return this.params[t]=function(t){return t.replace(n,e.source||e)},this},l.prototype.on=l.prototype.route=function(t,e,n){var r=this;return n||"function"!=typeof e||(n=e,e=t,t="on"),Array.isArray(e)?e.forEach(function(e){r.on(t,e,n)}):(e.source&&(e=e.source.replace(/\\\//gi,"/")),Array.isArray(t)?t.forEach(function(t){r.on(t.toLowerCase(),e,n)}):(e=e.split(new RegExp(this.delimiter)),e=u(e,this.delimiter),void this.insert(t,this.scope.concat(e),n)))},l.prototype.path=function(t,e){var n=this.scope.length;t.source&&(t=t.source.replace(/\\\//gi,"/")),t=t.split(new RegExp(this.delimiter)),t=u(t,this.delimiter),this.scope=this.scope.concat(t),e.call(this,this),this.scope.splice(n,t.length)},l.prototype.dispatch=function(t,e,n){function r(){o.last=s.after,o.invoke(o.runlist(s),o,n)}var i,o=this,s=this.traverse(t,e.replace(f,""),this.routes,""),c=this._invoked;return this._invoked=!0,s&&0!==s.length?("forward"===this.recurse&&(s=s.reverse()),i=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last],i&&i.length>0&&c?(this.async?this.invoke(i,this,r):(this.invoke(i,this),r()),!0):(r(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:t,path:e},n),!1)},l.prototype.invoke=function(t,e,r){var o,s=this;this.async?(o=function(n,r){return Array.isArray(n)?i(n,o,r):void("function"==typeof n&&n.apply(e,(t.captures||[]).concat(r)))},i(t,o,function(){r&&r.apply(e,arguments)})):(o=function(r){return Array.isArray(r)?n(r,o):"function"==typeof r?r.apply(e,t.captures||[]):void("string"==typeof r&&s.resource&&s.resource[r].apply(e,t.captures||[]))},n(t,o))},l.prototype.traverse=function(t,e,n,r,i){function o(t){function e(t){for(var n=[],r=0;r<t.length;r++)n[r]=Array.isArray(t[r])?e(t[r]):t[r];return n}function n(t){for(var e=t.length-1;e>=0;e--)Array.isArray(t[e])?(n(t[e]),0===t[e].length&&t.splice(e,1)):i(t[e])||t.splice(e,1)}if(!i)return t;var r=e(t);return r.matched=t.matched,r.captures=t.captures,r.after=t.after.filter(i),n(r),r}var s,c,u,a,h=[];if(e===this.delimiter&&n[t])return a=[[n.before,n[t]].filter(Boolean)],a.after=[n.after].filter(Boolean),a.matched=!0,a.captures=[],o(a);for(var l in n)if(n.hasOwnProperty(l)&&(!this._methods[l]||this._methods[l]&&"object"==typeof n[l]&&!Array.isArray(n[l]))){if(s=c=r+this.delimiter+l,this.strict||(c+="["+this.delimiter+"]?"),u=e.match(new RegExp("^"+c)),!u)continue;if(u[0]&&u[0]==e&&n[l][t])return a=[[n[l].before,n[l][t]].filter(Boolean)],a.after=[n[l].after].filter(Boolean),a.matched=!0,a.captures=u.slice(1),this.recurse&&n===this.routes&&(a.push([n.before,n.on].filter(Boolean)),a.after=a.after.concat([n.after].filter(Boolean))),o(a);if(a=this.traverse(t,e,n[l],s),a.matched)return a.length>0&&(h=h.concat(a)),this.recurse&&(h.push([n[l].before,n[l].on].filter(Boolean)),a.after=a.after.concat([n[l].after].filter(Boolean)),n===this.routes&&(h.push([n.before,n.on].filter(Boolean)),a.after=a.after.concat([n.after].filter(Boolean)))),h.matched=!0,h.captures=a.captures,h.after=a.after,o(h)}return!1},l.prototype.insert=function(t,e,n,r){var i,o,s,u,a;if(e=e.filter(function(t){return t&&t.length>0}),r=r||this.routes,a=e.shift(),/\:|\*/.test(a)&&!/\\d|\\w/.test(a)&&(a=c(a,this.params)),e.length>0)return r[a]=r[a]||{},this.insert(t,e,n,r[a]);if(a||e.length||r!==this.routes){if(o=typeof r[a],s=Array.isArray(r[a]),r[a]&&!s&&"object"==o)switch(i=typeof r[a][t]){case"function":return void(r[a][t]=[r[a][t],n]);case"object":return void r[a][t].push(n);case"undefined":return void(r[a][t]=n)}else if("undefined"==o)return u={},u[t]=n,void(r[a]=u);throw new Error("Invalid route context: "+o)}switch(i=typeof r[t]){case"function":return void(r[t]=[r[t],n]);case"object":return void r[t].push(n);case"undefined":return void(r[t]=n)}},l.prototype.extend=function(t){function e(t){r._methods[t]=!0,r[t]=function(){var e=1===arguments.length?[t,""]:[t];r.on.apply(r,e.concat(Array.prototype.slice.call(arguments)))}}var n,r=this,i=t.length;for(n=0;n<i;n++)e(t[n])},l.prototype.runlist=function(t){var e=this.every&&this.every.before?[this.every.before].concat(r(t)):r(t);return this.every&&this.every.on&&e.push(this.every.on),e.captures=t.captures,e.source=t.source,e},l.prototype.mount=function(t,e){function n(e,n){var i=e,o=e.split(r.delimiter),s=typeof t[e],c=""===o[0]||!r._methods[o[0]],a=c?"on":i;return c&&(i=i.slice((i.match(new RegExp("^"+r.delimiter))||[""])[0].length),o.shift()),c&&"object"===s&&!Array.isArray(t[e])?(n=n.concat(o),void r.mount(t[e],n)):(c&&(n=n.concat(i.split(r.delimiter)),n=u(n,r.delimiter)),void r.insert(a,n,t[e]))}if(t&&"object"==typeof t&&!Array.isArray(t)){var r=this;e=e||[],Array.isArray(e)||(e=e.split(r.delimiter));for(var i in t)t.hasOwnProperty(i)&&n(i,e.slice(0))}}}("object"==typeof n?n:window)},{}],7:[function(t,e,n){function r(){function t(t){return t[~~(Math.random()*t.length)]}function e(e){for(var r="",i=0;i<e;++i)r+=t(n);return r}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return{randomId:e}}"object"==typeof e&&"object"==typeof e.exports&&(e.exports=r())},{}],8:[function(t,e,n){function r(){if(!c){c=!0;for(var t,e=s.length;e;){t=s,s=[];for(var n=-1;++n<e;)t[n]();e=s.length}c=!1}}function i(){}var o=e.exports={},s=[],c=!1;o.nextTick=function(t){s.push(t),c||setTimeout(r,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=i,o.addListener=i,o.once=i,o.off=i,o.removeListener=i,o.removeAllListeners=i,o.emit=i,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],9:[function(t,e,n){"use strict";function r(t){function e(){h.choices.push(o()),s(r,{problem:h,commitChanges:l})}function n(t){t.problemText=this.textContent,l(h)}function a(t){t.text=this.textContent,l(h)}var h=t.problem,l=t.commitChanges,f=i.select("#edit-problem");f.classed("hidden",!1),f.select(".add-choice-button").on("click",e),f.select(".problem .problem-text").datum(h).text(h.problemText).on("blur",n);var p=f.select(".choice-root"),d=p.selectAll(".choice").data(h.choices,u);d.exit().remove();var m=d.enter().append("li").classed("choice",!0);m.append("img").classed("presenter",!0),m.append("div").classed("choice-text",!0).attr("contenteditable",!0).on("blur",a);var v=m.merge(d);v.attr("id",u),v.selectAll(".presenter").attr("src",c("presenterImageURL")),v.selectAll(".choice-text").text(c("text"))}var i=t("d3-selection"),o=t("./create-choice"),s=t("call-next-tick"),c=t("accessor"),u=c();e.exports=r},{"./create-choice":2,accessor:3,"call-next-tick":4,"d3-selection":5}]},{},[1]);